(self.webpackChunkexperiences_client=self.webpackChunkexperiences_client||[]).push([[683],{89773:(e,r,t)=>{"use strict";t.d(r,{Z:()=>x});var n=t(37316),o=t.n(n),i=t(59713),a=t.n(i),u=t(67154),s=t.n(u),c=t(75179),l=t.n(c),f=t(87170),d=t(64323),h=t(36039),p=t(67294);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(t,!0).forEach((function(r){a()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(){var e=l()(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return y=function(){return e},e}function m(){var e=l()(["\n  0% {\n    stroke-dasharray: 1, 400;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 400, 400;\n    stroke-dashoffset: -100;\n  }\n\n  100% {\n    stroke-dasharray: 400, 400;\n    stroke-dashoffset: -300;\n  }\n"]);return m=function(){return e},e}var b=(0,f.F4)(m()),k=(0,f.F4)(y()),w=(0,p.forwardRef)((function(e,r){var t=e.size,n=void 0===t?"48px":t,i=e.max,a=void 0===i?100:i,u=e.min,c=void 0===u?0:u,l=e.isIndeterminate,p=e.thickness,v=void 0===p?.2:p,y=e.value,m=e.angle,w=void 0===m?0:m,x=e.capIsRound,O=e.children,P=e.trackColor,S=void 0===P?"gray":P,j=e.color,A=void 0===j?"blue":j,C=o()(e,["size","max","min","isIndeterminate","thickness","value","angle","capIsRound","children","trackColor","color"]),I=(0,d.If)().colorMode,Z=function(e){var r=e.min,t=e.max,n=e.size,o=e.value,i=e.angle,a=e.thickness,u=e.trackColor,s=e.color,c=e.capIsRound,l=e.isIndeterminate,f=100*Math.PI,d=Math.round(1e3*f)/1e3,h=100/(1-a/2),p=a/2*h,v=(1-(o-r)/(t-r))*f;function y(e){var r=e.thickness,t=e.offset;return{as:"circle",color:e.color,fill:"transparent",stroke:"currentColor",strokeWidth:r,strokeDasharray:d,strokeDashoffset:t,cx:h,cy:h,r:50}}return{rootProps:{size:"1em",fontSize:n,display:"inline-block",position:"relative",veriticalAlign:"middle",role:"progressbar","aria-valuemin":r,"aria-valuemax":t,"aria-valuenow":l?null:o},svgProps:g({as:"svg",viewBox:h/2+" "+h/2+" "+h+" "+h,verticalAlign:"top",transform:"rotate3d(0, 0, 1, "+(i-90)+"deg)",size:"100%"},l&&{transformOrigin:"50% 50%",animation:k+" 2s linear infinite"}),trackCircleProps:y({thickness:p,offset:0,color:u}),indicatorCircleProps:g({},y({thickness:p,offset:v,color:s}),{},c&&{strokeLinecap:"round"},{},l&&{transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease",animation:b+" 1.5s ease-in-out infinite",strokeDasharray:"1 400",strokeDashoffset:"0"},{stroke:"currentColor"})}}({min:c,max:a,value:y,size:n,angle:w,thickness:v,capIsRound:x,isIndeterminate:l,color:{light:A+".500",dark:A+".200"}[I],trackColor:{light:S+".100",dark:"whiteAlpha.300"}[I]}),E=Z.rootProps,R=Z.indicatorCircleProps,z=Z.svgProps,D=Z.trackCircleProps;return(0,f.tZ)(h.ZP,s()({ref:r},E,C),(0,f.tZ)(h.ZP,z,(0,f.tZ)(h.ZP,s()({},D,{"data-progress-track":!0})),(0,f.tZ)(h.ZP,s()({},R,{"data-progress-indicator":!0}))),O)}));w.displayName="CircularProgress";const x=w},56402:(e,r,t)=>{"use strict";t.d(r,{Z:()=>f});var n=t(67154),o=t.n(n),i=t(37316),a=t.n(i),u=t(67294),s=t(87170),c=t(40824),l=t(36039);const f=(0,u.forwardRef)((function(e,r){var t,n=e.direction,i=e.isInline,f=void 0!==i&&i,d=e.isReversed,h=void 0!==d&&d,p=e.children,v=e.align,g=e.justify,y=e.spacing,m=void 0===y?2:y,b=e.shouldWrapChildren,k=a()(e,["direction","isInline","isReversed","children","align","justify","spacing","shouldWrapChildren"]),w=h||n&&n.endsWith("reverse"),x=f||n&&n.startsWith("row");x&&(t="row"),w&&(t=f?"row-reverse":"column-reverse"),n&&(t=n),x||w||n||(t="column");var O=u.Children.toArray(p).filter(u.isValidElement);return(0,s.tZ)(c.Z,o()({align:v,justify:g,direction:t},k,{ref:r}),O.map((function(e,r){var t,n,i=O.length===r+1,a=x?((t={})[w?"ml":"mr"]=i?null:m,t):((n={})[w?"mt":"mb"]=i?null:m,n);return b?(0,s.tZ)(l.ZP,o()({d:"inline-block"},a,{key:"stack-box-wrapper-"+r}),e):(0,u.cloneElement)(e,a)})))}))},89614:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>T});var n,o=t(67294),i=(t(45697),t(42222)),a=t.n(i),u=t(27248),s=t(87410),c=t(99470),l=t(98122),f=t(77169),d=t(89773),h=t(36039),p=t(56402),v=t(22674),g=t(44119),y=t.n(g),m=t(52294),b=t(32890);function k(e,r,t,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(r||0===a||(r={children:void 0}),1===a)r.children=o;else if(a>1){for(var u=new Array(a),s=0;s<a;s++)u[s]=arguments[s+3];r.children=u}if(r&&i)for(var c in i)void 0===r[c]&&(r[c]=i[c]);else r||(r=i||{});return{$$typeof:n,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x(){var e,r,t=(e=["\n    mutation deleteAThought($input: DeleteAThoughtInput) {\n      deleteAThought(input: $input) {\n        deleted\n        thoughtid\n      }\n    }\n  "],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return x=function(){return t},t}const O=function(e){var r,t,n=e.slugkey,o=e.thoughtid,i=e.deletedCb,u=y()(x()),s=(r=(0,v.D)(u,{update:function(e,r){var t=r.data;if(t.deleteAThought){var n=t.deleteAThought,o=n.deleted,a=n.thoughtid;o?i(a):console.log("Could not delete a thought.")}}}),t=1,function(e){if(Array.isArray(e))return e}(r)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}}(r,t)||function(e,r){if(e){if("string"==typeof e)return w(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return k(m.Z,{label:"Delete this thought"},void 0,k(b.Z,{size:"10px",name:"delete",ml:"10px",onClick:function(){return function(e,r){s({variables:{input:{experienceslugkey:e,thoughtid:r,thoughtauthoruid:a().get("username")}}})}(n,o)}}))};var P,S=t(25976),j=t(52427);function A(e,r,t,n){P||(P="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(r||0===i||(r={children:void 0}),1===i)r.children=n;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];r.children=a}if(r&&o)for(var s in o)void 0===r[s]&&(r[s]=o[s]);else r||(r=o||{});return{$$typeof:P,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function C(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,r,t,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void t(e)}u.done?r(s):Promise.resolve(s).then(n,o)}function Z(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){I(i,n,o,a,u,"next",e)}function u(e){I(i,n,o,a,u,"throw",e)}a(void 0)}))}}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}}(e,r)||R(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,r){if(e){if("string"==typeof e)return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,r):void 0}}function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var D=A(S.gb,{}),M=A(d.Z,{isIndeterminate:!0,size:"24px",color:"teal"});const T=function(e){var r=e.slugkey,t=e.refreshCursor,n=E((0,o.useState)([]),2),i=n[0],d=n[1],v=E((0,o.useState)(null),2),g=v[0],y=v[1],m=E((0,o.useState)(!1),2),b=m[0],k=m[1],w=E((0,o.useState)(!0),2),x=w[0],P=w[1],I=(0,o.useMemo)((function(){return(0,l.zGw)((0,s.Jh)())}),[]),R=function(){var e=Z(regeneratorRuntime.mark((function e(t){var n,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)({variables:{cursor:t,experienceslugkey:r},query:"\n    query getThoughtsOfExperience($cursor: String, $experienceslugkey: String!) {\n      getThoughtsOfExperience(cursor: $cursor, experienceslugkey: $experienceslugkey) {\n        cursor\n        thoughts {\n          thought\n          isauthor\n          thoughtid\n          created_at\n          thoughtauthor {\n            displayname\n            uid\n          }\n        }\n      }\n    }\n  ",token:a().get("token")});case 2:if(!(n=e.sent)||!n.getThoughtsOfExperience){e.next=9;break}return o=n.getThoughtsOfExperience,s=o.cursor,c=o.thoughts,y(s),e.abrupt("return",c);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),z=function(){var e=Z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,R(g);case 3:r=e.sent,d([].concat(C(i),C(r))),k(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){function e(){return(e=Z(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,R(t);case 3:r=e.sent,d(r),P(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var T=function(e){for(var r=i.length;r--;)if(i[r].thoughtid===e){i.splice(r,1);break}d(C(i))};return o.createElement(o.Fragment,null,x&&D,!x&&A(h.ZP,{justify:"left",py:5},void 0,A(p.Z,{spacing:3,pr:"5px",width:"100%"},void 0,i.map((function(e){var t=e.thought,n=e.thoughtid,i=e.isauthor,a=e.thoughtauthor,u=a.displayname,s=a.uid;return A(h.ZP,{py:"8px",px:"16px",pt:"5px",borderRadius:"5px",border:"1px",borderColor:"teal.100"},n,A(h.ZP,{pb:"10px"},void 0,A(S.Lp,{fontSize:{base:"0.7rem",sm:"0.7rem",md:"0.7rem"},onClick:function(){!function(e){j.Z.push("/author/".concat(e))}(s)}},void 0,u),i&&o.createElement(O,{slugkey:r,thoughtid:n,isauthor:i,deletedCb:T})),A(c.mH,{editor:I,value:t},void 0,A(l.tQ2,{plugins:f.G,readOnly:!0,style:{fontSize:"0.9rem",fontWeight:"400"},renderLeaf:[f.n]})))}))),A(S.zx,{onClick:z},void 0,b?M:"Load more")))}},22674:(e,r,t)=>{"use strict";t.d(r,{D:()=>l});var n=t(24568),o=t(67294),i=t(11124),a=t(26554),u=t(4486);function s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var c=function(){return{called:!1,data:void 0,error:void 0,hasError:!1,loading:!1}};function l(e,r){void 0===r&&(r={});var t=(0,i.x)(r.client),l=o.useState(c),f=l[0],d=l[1],h=r,p=h.rethrow,v=void 0===p||p,g=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(h,["rethrow"]),y=function(e){(0,a.Z)((function(){d((function(r){return s({},r,{},e)}))}))};o.useEffect((function(){y({called:!1,data:void 0,error:void 0,hasError:!1,loading:!1})}),[t]);var m,b=(m=o.useRef(0),{generateNewMutationId:function(){return m.current+=1,m.current},isMostRecentMutation:function(e){return m.current===e}}),k=b.generateNewMutationId,w=b.isMostRecentMutation,x=function(e,r){w(r)&&y({error:e,hasError:!0,loading:!1})};return[o.useCallback((function(r){return void 0===r&&(r={}),new Promise((function(o,i){f.loading||y({called:!0,data:void 0,error:void 0,hasError:!1,loading:!0});var a=k(),u=g.variables?s({},r.variables,{},g.variables):r.variables;t.mutate(s({mutation:e},g,{},r,{variables:u})).then((function(e){!function(e,r){var t=e.data,o=e.errors;o&&o.length>0?x(new n.cA({graphQLErrors:o}),r):w(r)&&y({data:t,loading:!1})}(e,a),o(e)})).catch((function(e){x(e,a),v?i(e):o({})}))}))}),[t,e,(0,u.pq)(r)]),f]}}}]);