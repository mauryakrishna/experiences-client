(self.webpackChunkexperiences_client=self.webpackChunkexperiences_client||[]).push([[494],{63092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var r=n(67294),i=n(51395),o=n(70365),a=n(66805),u=n(40824),l=n(27304),s=n(36039),c=n(6029),d=n(32890),f=n(89773),v=n(50466),p=n(9827),m=n(53755),h=n(79180),g=n(74062);function y(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,u,"next",e)}function u(e){y(o,r,i,a,u,"throw",e)}a(void 0)}))}}function b(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=w(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={input:{email:t,password:n,displayname:r,region:i,languages:"en-GB"}},e.next=4,fetch("".concat(window.location.origin,"/gql"),{method:"POST",Accept:"application/json",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n  mutation signupAuthor($input: SignupAuthorInput) {\n    signupAuthor(input: $input) {\n      exist\n      author {\n        authoruid\n        displayname\n        region\n        languages\n      }\n      token\n      message\n    }\n  }\n  ",variables:o})}).then((function(e){return e.json()}));case 4:return a=e.sent,u=a.data,e.abrupt("return",u.signupAuthor);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z,x=n(25976),k=n(119);function A(e,t,n,r){Z||(Z="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),u=0;u<o;u++)a[u]=arguments[u+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:Z,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=A(s.ZP,{textAlign:"center"},void 0,A(c.Z,{size:"lg"},void 0,"Register")),$=A(x.kk,{},void 0,"An email has been sent to your registered email addrees. Kindly follow the instruction to activate your account."),T=A(d.Z,{name:"view-off"}),j=A(d.Z,{name:"view"}),z=A(x.P3,{}),I=A(f.Z,{isIndeterminate:!0,size:"24px",color:"teal"});function q(){var e=(0,r.useRef)(),t=P((0,r.useState)(""),2),n=t[0],i=t[1],o=P((0,r.useState)(""),2),a=o[0],l=o[1],c=P((0,r.useState)(""),2),d=c[0],f=c[1],y=P((0,r.useState)(""),2),w=y[0],S=y[1],Z=P((0,r.useState)(!1),2),R=Z[0],q=Z[1],E=P((0,r.useState)(!1),2),L=E[0],_=E[1],D=P((0,r.useState)(!1),2),G=D[0],B=D[1],F=P((0,r.useState)(!1),2),H=F[0],J=F[1],M=P((0,r.useState)(!1),2),U=M[0],K=M[1],N=function(){J(!H)},W=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),q(!0),e.prev=2,e.next=5,b(n,a,d,Intl.DateTimeFormat().resolvedOptions().timeZone);case 5:r=e.sent,(i=r.exist)?(S("User already exists."),K(!0)):i?S("Regiration failed."):B(!0),q(!1),_(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),S("Something went wrong. Try again in sometime."),q(!1),_(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){C(o,r,i,a,u,"next",e)}function u(e){C(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){e.current.focus()}),[]),A(u.Z,{width:"full",align:"center",justifyContent:"center"},void 0,A(s.ZP,{p:4,width:"100%"},void 0,!H&&r.createElement(r.Fragment,null,O,G?$:A(s.ZP,{my:4,textAlign:"left"},void 0,A("form",{onSubmit:W},void 0,w&&A(x.Bc,{},void 0,w),U&&A(x.$J,{},void 0,"If you registered previously but could not activate the account."," ",A(x.Lp,{onClick:N},void 0,"Request another verification email.")),A(v.ZP,{isRequired:!0,mt:6},void 0,r.createElement(p.Z,{ref:e,type:"email",placeholder:"Email address",size:"lg",onChange:function(e){return i(e.currentTarget.value)}})),A(v.ZP,{isRequired:!0,mt:6},void 0,A(m.Z,{},void 0,A(p.Z,{minLength:"6",maxLength:"14",type:L?"text":"password",placeholder:"Password",size:"lg",onChange:function(e){return l(e.currentTarget.value)}}),A(h.xH,{width:"3rem"},void 0,A(g.Z,{h:"1.5rem",size:"sm",onClick:function(){return _(!L)}},void 0,L?T:j)))),A(v.ZP,{isRequired:!0,mt:6},void 0,A(p.Z,{minHeight:"3",maxLength:"30",type:"text",placeholder:"Display name",size:"lg",onChange:function(e){return f(e.currentTarget.value)}})),z,A(g.Z,{variantColor:"teal",variant:"outline",type:"submit",width:"full",mt:1},void 0,R?I:"Register")))),H?A(k.Z,{resendinvitetext:"Go for registration",resendemail:n,toggle:N}):A(x.Lp,{onClick:N},void 0,"Resend email verification link")))}var E,L=n(8689);function _(e,t,n,r){E||(E="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),u=0;u<o;u++)a[u]=arguments[u+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:E,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=_(i.Z,{},void 0,"Get Started"),G=_(o.ZA,{bg:"white",opacity:"0.7"}),B=_(o.ol,{});const F=function(){var e=(0,a.Z)(),t=e.isOpen,n=e.onOpen,r=e.onClose,i=e.onToggle;return _(u.Z,{},void 0,_(l.Z,{cursor:"pointer",onClick:n},void 0,D),_(o.u_,{blockScrollOnMount:!1,isOpen:t,onClose:r,isCentered:!0,size:"500px"},void 0,G,_(o.hz,{borderWidth:1,borderRadius:8},void 0,B,_(o.fe,{p:5},void 0,_(q,{registerCallback:function(e,t){(0,L.$)(e,t),i()}})))))}},8689:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,D:()=>a});var r=n(42222),i=n.n(r),o=function(e,t){var n=e.authoruid,r=e.displayname,o=e.region,a=e.languages;i().set("username",n),i().set("displayname",r),i().set("region",o),i().set("languages",a),i().set("token",t),i().set("loggedin",!0)},a=function(){i().clear()}}}]);