(self.webpackChunkexperiences_client=self.webpackChunkexperiences_client||[]).push([[438],{5892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(67294),o=n(51395),i=n(70365),a=n(66805),u=n(40824),l=n(27304),s=(n(45697),n(36039)),c=n(6029),f=n(32890),d=n(89773),v=n(50466),p=n(9827),y=n(53755),m=n(79180),h=n(74062),g=n(25265),w=n(8689),b=n(119);function S(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,u,"next",e)}function u(e){S(i,r,o,a,u,"throw",e)}a(void 0)}))}}function x(e,t){return A.apply(this,arguments)}function A(){return(A=Z(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,password:n},e.next=4,fetch("".concat(window.location.origin,"/gql"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n    query signinAuthor($email: String!, $password: String!) {\n      signinAuthor(email: $email, password: $password) {\n        exist\n        author {\n          authoruid\n          displayname\n          region\n          languages\n        }\n        token\n        isemailverified\n      }\n    }\n  ",variables:r})}).then((function(e){return e.json()}));case 4:return o=e.sent,i=o.data,e.abrupt("return",i.signinAuthor);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P,k=n(25976),C=n(40612);function j(e,t,n,r){P||(P="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:P,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=j(s.ZP,{textAlign:"center"},void 0,j(c.Z,{size:"lg"},void 0,"Login")),z=j(f.Z,{name:"view-off"}),T=j(f.Z,{name:"view"}),L=j(d.Z,{isIndeterminate:!0,size:"24px",color:"teal"});function q(e){var t=e.loginCallback,n=e.toggle,o=(0,r.useContext)(g.Z).setLoggedIn,i=(0,r.useRef)(),a=I((0,r.useState)(""),2),l=a[0],c=a[1],f=I((0,r.useState)(""),2),d=f[0],S=f[1],Z=I((0,r.useState)(""),2),A=Z[0],P=Z[1],O=I((0,r.useState)(!1),2),q=O[0],E=O[1],_=I((0,r.useState)(!1),2),F=_[0],M=_[1],U=I((0,r.useState)(!1),2),B=U[0],D=U[1],W=I((0,r.useState)(!1),2),H=W[0],J=W[1];(0,r.useEffect)((function(){i.current.focus()}),[]);var K=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,i,a,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),E(!0),e.prev=2,e.next=5,x(l,d);case 5:r=e.sent,i=r.exist,a=r.author,u=r.token,s=r.isemailverified,E(!1),i?i&&!s?J(!0):i&&a&&u?(P(""),t(a,u),(0,w.$)(a,u),o(!0)):P("Login failed."):P("User did not exist."),M(!1),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),P("Invalid username or password"),E(!1),M(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$(i,r,o,a,u,"next",e)}function u(e){$(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),N=function(){D(!B)};return B?j(b.Z,{resendemail:l,resendinvitetext:"Login with credentials.",toggle:N}):j(u.Z,{width:"full",align:"center",justifyContent:"center"},void 0,j(s.ZP,{p:4,width:"100%"},void 0,R,H&&j(C.Z,{},void 0,"This email address is not verified. Follow the link in verification email to verify it. You can request to"," ",j(k.Lp,{onClick:N},void 0,"send it again"),"."),j(s.ZP,{my:4,textAlign:"left"},void 0,j("form",{onSubmit:K},void 0,A&&j(k.Bc,{},void 0,A),j(v.ZP,{isRequired:!0,mt:6},void 0,r.createElement(p.Z,{ref:i,type:"email",placeholder:"Email address",size:"lg",onChange:function(e){return c(e.currentTarget.value)}})),j(v.ZP,{isRequired:!0,mt:6},void 0,j(y.Z,{},void 0,j(p.Z,{type:F?"text":"password",placeholder:"Password",size:"lg",onChange:function(e){return S(e.currentTarget.value)}}),j(m.xH,{width:"3rem"},void 0,j(h.Z,{h:"1.5rem",size:"sm",onClick:function(){return M(!F)}},void 0,F?z:T))),j(k.Lp,{onClick:function(){n(!1)}},void 0,"Forgot password?")),j(h.Z,{variantColor:"teal",variant:"outline",type:"submit",width:"full",mt:4},void 0,q?L:"Sign In")))))}var E=n(27248);function _(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,u,"next",e)}function u(e){_(i,r,o,a,u,"throw",e)}a(void 0)}))}}function M(e){return U.apply(this,arguments)}function U(){return(U=F(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={input:{email:t}},e.next=4,(0,E.Z)({variables:n,query:"\n    mutation forgotPassword($input: ForgotPasswordInput) {\n      forgotPassword(input: $input) {\n        emailsent\n        userexist\n      }\n    }\n  "});case 4:return r=e.sent,e.abrupt("return",r.forgotPassword);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B,D=n(64011);function W(e,t,n,r){B||(B="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:B,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N,Y=W(s.ZP,{textAlign:"center"},void 0,W(c.Z,{size:"lg"},void 0,"Forgot Password")),G=W(D.Z,{},void 0,"An email has been sent to your registered email id. Kindly follow the link therein to reset your password."),Q=W(d.Z,{isIndeterminate:!0,size:"24px",color:"teal"});function V(e){var t=e.toggle,n=J((0,r.useState)(""),2),o=n[0],i=n[1],a=J((0,r.useState)(""),2),l=a[0],c=a[1],f=J((0,r.useState)(!1),2),d=f[0],y=f[1],m=J((0,r.useState)(!1),2),g=m[0],w=m[1],b=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.prev=2,e.next=5,M(o);case 5:n=e.sent,r=n.emailsent,i=n.userexist,r?y(!0):i||c("We coud not recognize the user with given email id."),w(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,u,"next",e)}function u(e){H(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return W(u.Z,{width:"full",align:"center",justifyContent:"center"},void 0,W(s.ZP,{p:4,width:"100%"},void 0,Y,d?G:r.createElement(r.Fragment,null,W(s.ZP,{my:4,textAlign:"left"},void 0,W("form",{onSubmit:b},void 0,l&&W(k.Bc,{},void 0,l),W(v.ZP,{isRequired:!0,mt:6},void 0,W(p.Z,{type:"email",placeholder:"Email address",size:"lg",onChange:function(e){return i(e.currentTarget.value)}})),W(h.Z,{variantColor:"teal",variant:"outline",type:"submit",width:"full",mt:4},void 0,g?Q:"Submit"))),W(s.ZP,{},void 0,W(k.Lp,{onClick:function(){t(!0)}},void 0,"Login with credentials.")))))}function X(e,t,n,r){N||(N="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var a=new Array(i),u=0;u<i;u++)a[u]=arguments[u+3];t.children=a}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:N,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=X(o.Z,{},void 0,"Login"),ne=X(i.ZA,{bg:"white",opacity:"0.7"}),re=X(i.ol,{});const oe=function(){var e,t,n=(e=(0,r.useState)(!0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],s=n[1],c=(0,a.Z)(),f=c.isOpen,d=c.onOpen,v=c.onClose,p=c.onToggle;return X(u.Z,{},void 0,X(l.Z,{cursor:"pointer",onClick:d},void 0,te),X(i.u_,{blockScrollOnMount:!1,isOpen:f,onClose:v,isCentered:!0},void 0,ne,X(i.hz,{borderWidth:1,borderRadius:8},void 0,re,X(i.fe,{},void 0,o?X(q,{loginCallback:function(){p()},toggle:s}):X(V,{toggle:s})))))}}}]);