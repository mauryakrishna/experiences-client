require("source-map-support").install(),exports.id=438,exports.ids=[438],exports.modules={5892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var o,i=n(9297),r=n.n(i),l=n(2668),a=(n(4229),n(5265)),s=n(8689),d=n(119),u=n(5976),c=n(612);function v(e,t,n,i){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=i;else if(l>1){for(var a=new Array(l),s=0;s<l;s++)a[s]=arguments[s+3];t.children=a}if(t&&r)for(var d in r)void 0===t[d]&&(t[d]=r[d]);else t||(t=r||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=v(l.Box,{textAlign:"center"},void 0,v(l.Heading,{size:"lg"},void 0,"Login")),m=v(l.Icon,{name:"view-off"}),g=v(l.Icon,{name:"view"}),p=v(l.CircularProgress,{isIndeterminate:!0,size:"24px",color:"teal"});function y({loginCallback:e,toggle:t}){const{setLoggedIn:n}=(0,i.useContext)(a.Z),o=(0,i.useRef)(),[y,h]=(0,i.useState)(""),[w,S]=(0,i.useState)(""),[x,b]=(0,i.useState)(""),[C,k]=(0,i.useState)(!1),[B,$]=(0,i.useState)(!1),[P,A]=(0,i.useState)(!1),[I,q]=(0,i.useState)(!1);(0,i.useEffect)((()=>{o.current.focus()}),[]);const z=()=>{A(!P)};return P?v(d.Z,{resendemail:y,resendinvitetext:"Login with credentials.",toggle:z}):v(l.Flex,{width:"full",align:"center",justifyContent:"center"},void 0,v(l.Box,{p:4,width:"100%"},void 0,f,I&&v(c.Z,{},void 0,"This email address is not verified. Follow the link in verification email to verify it. You can request to"," ",v(u.Lp,{onClick:z},void 0,"send it again"),"."),v(l.Box,{my:4,textAlign:"left"},void 0,v("form",{onSubmit:async t=>{t.preventDefault(),k(!0);try{const{exist:t,author:o,token:i,isemailverified:r}=await async function(e,t){const n={email:e,password:t},{data:o}=await fetch(`${window.location.origin}/gql`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n    query signinAuthor($email: String!, $password: String!) {\n      signinAuthor(email: $email, password: $password) {\n        exist\n        author {\n          authoruid\n          displayname\n          region\n          languages\n        }\n        token\n        isemailverified\n      }\n    }\n  ",variables:n})}).then((e=>e.json()));return o.signinAuthor}(y,w);k(!1),t?t&&!r?q(!0):t&&o&&i?(b(""),e(o,i),(0,s.$)(o,i),n(!0)):b("Login failed."):b("User did not exist."),$(!1)}catch(e){b("Invalid username or password"),k(!1),$(!1)}}},void 0,x&&v(u.Bc,{},void 0,x),v(l.FormControl,{isRequired:!0,mt:6},void 0,r().createElement(l.Input,{ref:o,type:"email",placeholder:"Email address",size:"lg",onChange:e=>h(e.currentTarget.value)})),v(l.FormControl,{isRequired:!0,mt:6},void 0,v(l.InputGroup,{},void 0,v(l.Input,{type:B?"text":"password",placeholder:"Password",size:"lg",onChange:e=>S(e.currentTarget.value)}),v(l.InputRightElement,{width:"3rem"},void 0,v(l.Button,{h:"1.5rem",size:"sm",onClick:()=>$(!B)},void 0,B?m:g))),v(u.Lp,{onClick:()=>{t(!1)}},void 0,"Forgot password?")),v(l.Button,{variantColor:"teal",variant:"outline",type:"submit",width:"full",mt:4},void 0,C?p:"Sign In")))))}var h,w=n(2091),S=n(4011);function x(e,t,n,o){h||(h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=o;else if(r>1){for(var l=new Array(r),a=0;a<r;a++)l[a]=arguments[a+3];t.children=l}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:h,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b,C=x(l.Box,{textAlign:"center"},void 0,x(l.Heading,{size:"lg"},void 0,"Forgot Password")),k=x(S.Z,{},void 0,"An email has been sent to your registered email id. Kindly follow the link therein to reset your password."),B=x(l.CircularProgress,{isIndeterminate:!0,size:"24px",color:"teal"});function $({toggle:e}){const[t,n]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,d]=(0,i.useState)(!1),[c,v]=(0,i.useState)(!1);return x(l.Flex,{width:"full",align:"center",justifyContent:"center"},void 0,x(l.Box,{p:4,width:"100%"},void 0,C,s?k:r().createElement(r().Fragment,null,x(l.Box,{my:4,textAlign:"left"},void 0,x("form",{onSubmit:async e=>{e.preventDefault(),v(!0);try{const{emailsent:e,userexist:n}=await async function(e){const t={input:{email:e}};return(await(0,w.Z)({variables:t,query:"\n    mutation forgotPassword($input: ForgotPasswordInput) {\n      forgotPassword(input: $input) {\n        emailsent\n        userexist\n      }\n    }\n  "})).forgotPassword}(t);e?d(!0):n||a("We coud not recognize the user with given email id."),v(!1)}catch(e){v(!1)}}},void 0,o&&x(u.Bc,{},void 0,o),x(l.FormControl,{isRequired:!0,mt:6},void 0,x(l.Input,{type:"email",placeholder:"Email address",size:"lg",onChange:e=>n(e.currentTarget.value)})),x(l.Button,{variantColor:"teal",variant:"outline",type:"submit",width:"full",mt:4},void 0,c?B:"Submit"))),x(l.Box,{},void 0,x(u.Lp,{onClick:()=>{e(!0)}},void 0,"Login with credentials.")))))}function P(e,t,n,o){b||(b="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=o;else if(r>1){for(var l=new Array(r),a=0;a<r;a++)l[a]=arguments[a+3];t.children=l}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:b,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=P(l.Text,{},void 0,"Login"),I=P(l.ModalOverlay,{bg:"white",opacity:"0.7"}),q=P(l.ModalCloseButton,{});const z=()=>{const[e,t]=(0,i.useState)(!0),{isOpen:n,onOpen:o,onClose:r,onToggle:a}=(0,l.useDisclosure)();return P(l.Flex,{},void 0,P(l.PseudoBox,{cursor:"pointer",onClick:o},void 0,A),P(l.Modal,{blockScrollOnMount:!1,isOpen:n,onClose:r,isCentered:!0},void 0,I,P(l.ModalContent,{borderWidth:1,borderRadius:8},void 0,q,P(l.ModalBody,{},void 0,e?P(y,{loginCallback:()=>{a()},toggle:t}):P($,{toggle:t})))))}},119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var o,i=n(9297),r=n.n(i),l=(n(4229),n(2668)),a=n(2091),s=n(5976),d=n(4011);function u(e,t,n,i){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=i;else if(l>1){for(var a=new Array(l),s=0;s<l;s++)a[s]=arguments[s+3];t.children=a}if(t&&r)for(var d in r)void 0===t[d]&&(t[d]=r[d]);else t||(t=r||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=u(l.Box,{textAlign:"center"},void 0,u(l.Heading,{size:"lg"},void 0,"Resend verification email")),v=u(d.Z,{},void 0,"An email has been sent to your registered email addrees. Kindly follow the instruction to activate your account.."),f=u(l.CircularProgress,{isIndeterminate:!0,size:"24px",color:"teal"});function m({toggle:e,resendemail:t,resendinvitetext:n}){const[o,d]=(0,i.useState)(t||""),[m,g]=(0,i.useState)(""),[p,y]=(0,i.useState)(!1),[h,w]=(0,i.useState)(!1);return u(l.Flex,{width:"full",align:"center",justifyContent:"center"},void 0,u(l.Box,{p:4,width:"100%"},void 0,c,p?v:r().createElement(r().Fragment,null,u(l.Box,{my:4,textAlign:"left"},void 0,u("form",{onSubmit:async e=>{e.preventDefault(),w(!0);try{const{resendsuccess:e}=await async function(e){const t={email:e};return(await(0,a.Z)({variables:t,query:"\n    mutation resendVerificationLink($email: String!) {\n      resendVerificationLink(email: $email) {\n        resendsuccess\n      }\n    }\n  "})).resendVerificationLink}(o);e||g("Could not sent an email."),y(!0),w(!1)}catch(e){w(!1)}}},void 0,m&&u(s.Bc,{},void 0,m),u(l.FormControl,{isRequired:!0,mt:6},void 0,u(l.Input,{type:"email",placeholder:"Email address",size:"lg",onChange:e=>d(e.currentTarget.value)})),u(l.Button,{variantColor:"teal",variant:"outline",type:"submit",width:"full",mt:4},void 0,h?f:"Submit"))),u(l.Box,{},void 0,u(s.Lp,{onClick:()=>{e(!0)}},void 0,n)))))}m.defaultProps={resendemail:null}},2091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=async({variables:e,query:t,token:n})=>{const o=await fetch(`${window.location.origin}/gql`,{method:"POST",headers:{"Content-Type":"application/json","Accept-Encoding":"gzip,deflate",...n&&{authorization:n}},body:JSON.stringify({query:t,variables:e})}).then((e=>e.json()));return o&&o.data}}};